<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2025.07.19 -->
        <title>ersilia.api.create_api - Ersilia documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Ersilia  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <span class="sidebar-brand-text">Ersilia  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../source/package.html">API documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.html">ersilia package</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of ersilia package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.api.html">ersilia.api package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of ersilia.api package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.api.commands.html">ersilia.api.commands package</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.app.html">ersilia.app package</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of ersilia.app package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.app.fastapi.html">ersilia.app.fastapi package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.app.streamlit.html">ersilia.app.streamlit package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../source/autodoc/ersilia.auth.html">ersilia.auth package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.cli.html">ersilia.cli package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of ersilia.cli package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.cli.commands.html">ersilia.cli.commands package</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of ersilia.cli.commands package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../source/autodoc/ersilia.cli.commands.utils.html">ersilia.cli.commands.utils package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../source/autodoc/ersilia.core.html">ersilia.core package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.db.html">ersilia.db package</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of ersilia.db package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.db.disk.html">ersilia.db.disk package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.db.environments.html">ersilia.db.environments package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.db.hubdata.html">ersilia.db.hubdata package</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.html">ersilia.hub package</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of ersilia.hub package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.bundle.html">ersilia.hub.bundle package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.content.html">ersilia.hub.content package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.delete.html">ersilia.hub.delete package</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.fetch.html">ersilia.hub.fetch package</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of ersilia.hub.fetch package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.fetch.actions.html">ersilia.hub.fetch.actions package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.fetch.lazy_fetchers.html">ersilia.hub.fetch.lazy_fetchers package</a></li>
<li class="toctree-l5 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.fetch.pack.html">ersilia.hub.fetch.pack package</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of ersilia.hub.fetch.pack package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.fetch.pack.bentoml_pack.html">ersilia.hub.fetch.pack.bentoml_pack package</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.fetch.pack.fastapi_pack.html">ersilia.hub.fetch.pack.fastapi_pack package</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.fetch.register.html">ersilia.hub.fetch.register package</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.hub.pull.html">ersilia.hub.pull package</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.io.html">ersilia.io package</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of ersilia.io package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.io.readers.html">ersilia.io.readers package</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.io.types.html">ersilia.io.types package</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of ersilia.io.types package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../source/autodoc/ersilia.io.types.examples.html">ersilia.io.types.examples package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.publish.html">ersilia.publish package</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of ersilia.publish package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.publish.test.html">ersilia.publish.test package</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of ersilia.publish.test package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../source/autodoc/ersilia.publish.test.services.html">ersilia.publish.test.services package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.serve.html">ersilia.serve package</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of ersilia.serve package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.serve.environment.html">ersilia.serve.environment package</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.setup.html">ersilia.setup package</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of ersilia.setup package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.setup.requirements.html">ersilia.setup.requirements package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.setup.utils.html">ersilia.setup.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../source/autodoc/ersilia.store.html">ersilia.store package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.tools.html">ersilia.tools package</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of ersilia.tools package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.tools.bentoml.html">ersilia.tools.bentoml package</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of ersilia.tools.bentoml package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../source/autodoc/ersilia.tools.bentoml.configuration.html">ersilia.tools.bentoml.configuration package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../source/autodoc/ersilia.tools.bentoml.utils.html">ersilia.tools.bentoml.utils package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../source/autodoc/ersilia.utils.html">ersilia.utils package</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of ersilia.utils package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.utils.exceptions_utils.html">ersilia.utils.exceptions_utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.utils.identifiers.html">ersilia.utils.identifiers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../source/autodoc/ersilia.utils.supp.html">ersilia.utils.supp package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <h1>Source code for ersilia.api.create_api</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">.commands</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">catalog</span><span class="p">,</span>
    <span class="n">close</span><span class="p">,</span>
    <span class="n">delete</span><span class="p">,</span>
    <span class="n">example</span><span class="p">,</span>
    <span class="n">fetch</span><span class="p">,</span>
    <span class="n">info</span><span class="p">,</span>
    <span class="n">is_fetched</span><span class="p">,</span>
    <span class="n">run</span><span class="p">,</span>
    <span class="n">serve</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.echo</span><span class="w"> </span><span class="kn">import</span> <span class="n">echo</span>


<div class="viewcode-block" id="Model">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Model">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Model</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Python API wrapper for interacting with Ersilia Model Hub models.</span>

<span class="sd">    This class provides a programmatic interface to run, serve, fetch, and manage</span>
<span class="sd">    machine learning models from the Ersilia Model Hub. It wraps the existing CLI-based</span>
<span class="sd">    functionality in a clean Pythonic interface and supports use in context managers.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    model_id : str</span>
<span class="sd">        The unique identifier of the model to be managed and executed.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    fetch():</span>
<span class="sd">        Downloads the specified model and its dependencies from DockerHub.</span>

<span class="sd">    serve():</span>
<span class="sd">        Serves the specified model locally to prepare for inference.</span>

<span class="sd">    run(input, output, batch_size):</span>
<span class="sd">        Runs the model on the given input and writes predictions to the output file.</span>

<span class="sd">    close():</span>
<span class="sd">        Terminates the model server and cleans up associated resources.</span>

<span class="sd">    info():</span>
<span class="sd">        Prints metadata and technical details about the specified model.</span>

<span class="sd">    example(file_name, simple, random, n_samples, deterministic):</span>
<span class="sd">        Generates example input files for the model.</span>

<span class="sd">    delete():</span>
<span class="sd">        Deletes the specified model and its local artifacts.</span>

<span class="sd">    __enter__():</span>
<span class="sd">        Context manager entry — automatically serves the model.</span>

<span class="sd">    __exit__(exc_type, exc_value, traceback):</span>
<span class="sd">        Context manager exit — automatically closes the served model.</span>

<span class="sd">    Usage Example</span>
<span class="sd">    -------------</span>
<span class="sd">    &gt;&gt;&gt; from ersilia.api import Model</span>
<span class="sd">    &gt;&gt;&gt; molecular_weight = Model(&quot;eos3b5e&quot;)</span>
<span class="sd">    &gt;&gt;&gt; molecular_weight.fetch()</span>
<span class="sd">    &gt;&gt;&gt; molecular_weight.serve()</span>
<span class="sd">    &gt;&gt;&gt; with molecular_weight as model:</span>
<span class="sd">    &gt;&gt;&gt;     model.info()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_id</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_id</span> <span class="o">=</span> <span class="n">model_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verbose_mode</span> <span class="o">=</span> <span class="n">verbose</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SRV</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="Model.fetch">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Model.fetch">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">fetch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">from_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">from_github</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">from_dockerhub</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;latest&quot;</span><span class="p">,</span>
        <span class="n">from_s3</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">from_hosted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">hosted_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetch an Ersilia model to run it locally.</span>

<span class="sd">        Parameters mirror the CLI:</span>
<span class="sd">        - overwrite: overwrite existing local copy (default: True)</span>
<span class="sd">        - from_dir: fetch from a local directory path</span>
<span class="sd">        - from_github: fetch from GitHub</span>
<span class="sd">        - from_dockerhub: fetch from DockerHub (if None, inferred)</span>
<span class="sd">        - version: version tag (default: &quot;latest&quot;)</span>
<span class="sd">        - from_s3: fetch from S3</span>
<span class="sd">        - from_hosted: fetch from a hosted URL</span>
<span class="sd">        - hosted_url: URL to hosted assets (used when from_hosted=True)</span>
<span class="sd">        - verbose: override for verbose mode</span>
<span class="sd">        - **kwargs: passthrough for forward compatibility</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># infer default: if no source specified, use DockerHub</span>
        <span class="k">if</span> <span class="n">from_dockerhub</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">from_dockerhub</span> <span class="o">=</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="n">from_dir</span><span class="p">,</span> <span class="n">from_github</span><span class="p">,</span> <span class="n">from_s3</span><span class="p">,</span> <span class="n">from_hosted</span><span class="p">])</span>

        <span class="n">fetch</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model_id</span><span class="p">,</span>
            <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">,</span>
            <span class="n">from_dir</span><span class="o">=</span><span class="n">from_dir</span><span class="p">,</span>
            <span class="n">from_github</span><span class="o">=</span><span class="n">from_github</span><span class="p">,</span>
            <span class="n">from_dockerhub</span><span class="o">=</span><span class="n">from_dockerhub</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
            <span class="n">from_s3</span><span class="o">=</span><span class="n">from_s3</span><span class="p">,</span>
            <span class="n">from_hosted</span><span class="o">=</span><span class="n">from_hosted</span><span class="p">,</span>
            <span class="n">hosted_url</span><span class="o">=</span><span class="n">hosted_url</span><span class="p">,</span>
            <span class="n">verbose_flag</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose_mode</span> <span class="k">if</span> <span class="n">verbose</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">verbose</span><span class="p">),</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Model.serve">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Model.serve">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">serve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Serves a specified model as an API.</span>

<span class="sd">        Args</span>
<span class="sd">        -------</span>
<span class="sd">            model: The model ID to be served. Can either be the eos identifier or the slug identifier.</span>
<span class="sd">            port: The port to use when creating a model server. If unspecified, Ersilia looks for empty ports to use on the user&#39;s system.</span>
<span class="sd">            track: Whether the model&#39;s runs should be tracked to monitor model and system performance.</span>
<span class="sd">            tracking_use_case: If --track is true, this command allows specification of the tracking use case. Current options are: local, hosted, self-service and test.</span>
<span class="sd">            enable_local_cache: Toggle Redis-based local caching on or off. If enabled, the results from model APIs will be cached for 7 days.</span>
<span class="sd">            local_cache_only: Specifies to fetch stored model results from local cache. The local caching system is powered by Redis.</span>
<span class="sd">            cloud_cache_only: Specifies to fetch stored model results from cloud cache. This allows to fetch model precalculated results in csv file in Ersilia model output format.</span>
<span class="sd">            cache_only: Specifies to fetch stored model results from both local and cloud cache. More details are given in a dump CLI.</span>
<span class="sd">            max_cache_memory_frac: Sets the maximum fraction of memory to use by Redis for caching. Recommended value 0.2-0.7.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            Model ID, URL, SRV, Session, SRV, Session, Caching Mode Status, Local Cache Status, Tracking Status</span>

<span class="sd">        Raises</span>
<span class="sd">        -------</span>
<span class="sd">            RuntimeError: If the model/URL is not valid or not found,</span>
<span class="sd">            or if the maximum cache memory fraction is outside of the recommended range.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">SRV</span> <span class="o">=</span> <span class="n">serve</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model_id</span><span class="p">,</span>
            <span class="n">port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">track</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">tracking_use_case</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="p">,</span>
            <span class="n">enable_local_cache</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">local_cache_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">cloud_cache_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">cache_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">max_cache_memory_frac</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">verbose_flag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose_mode</span> <span class="ow">or</span> <span class="n">verbose</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Model.run">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Model.run">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs the current model on a list of input strings and</span>
<span class="sd">        returns the prediction as a pandas dataframe.</span>

<span class="sd">        Args</span>
<span class="sd">        ----</span>
<span class="sd">        input_list: a list containing input strings.</span>
<span class="sd">        batch_size: number of input strings to process per batch</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        function</span>
<span class="sd">            The run command function to be used by the API.</span>
<span class="sd">            A pandas df with the predictions.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">run</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_id</span><span class="p">,</span> <span class="n">input_list</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.close">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Model.close">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This command closes the current session of the served model and cleans up any associated resources.</span>

<span class="sd">        Args</span>
<span class="sd">        -------</span>
<span class="sd">            model_id (str): ID of the model to delete.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            str: Confirmation message on success or warning message on failure.</span>

<span class="sd">        Raises</span>
<span class="sd">        -------</span>
<span class="sd">            RuntimeError: If no model was served in the current session.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">close</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="Model.info">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Model.info">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Provides information about a specified model.</span>

<span class="sd">        This command allows users to get detailed information about a current active session,</span>
<span class="sd">        including information about Model Identifiers, Code and Parameters, Docker Hub link and Architectures.</span>

<span class="sd">        Args</span>
<span class="sd">        -------</span>
<span class="sd">        model_id (str): ID of the model to delete.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        function: The info command function to be used by the API.</span>
<span class="sd">        str: Confirmation message on success or warning message on failure.</span>

<span class="sd">        Raises</span>
<span class="sd">        -------</span>
<span class="sd">        RuntimeError: If no model was served in the current session.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">info</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_id</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.example">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Model.example">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">example</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_samples</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;random&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This command can sample inputs for a given model.</span>

<span class="sd">        Args</span>
<span class="sd">        -------</span>
<span class="sd">        model: The model ID to be served. Can either be the eos identifier or the slug identifier.</span>
<span class="sd">        simple: Simple inputs only contain the input column, while complete inputs also include key and the input.</span>
<span class="sd">        random: If the model source contains an example input file, when the predefined flag is set, then inputs are sampled from that file. Only the number of samples present in the file are returned, especially if --n_samples is greater than that number. By default, Ersilia samples inputs randomly.</span>
<span class="sd">        n_samples: Specify the number of example inputs to generate for the given model.</span>
<span class="sd">        deterministic: Used to generate examples data deterministically instead of random sampling. This allows when every time you run with example command with this flag you get the same types of examples.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Function: The exmaple command function to be used by the API.</span>
<span class="sd">        Str: Error message if no model was served in the current session.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">example</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.delete">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Model.delete">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes a specified model from local storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            model_id (str): ID of the model to delete.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Confirmation message on success or warning message on failure.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the model cannot be deleted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">delete</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_id</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose_mode</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.is_fetched">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Model.is_fetched">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_fetched</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks whether the model has been successfully fetched.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Echo Message indicating fetch status.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">is_fetched</span><span class="o">.</span><span class="n">is_fetched</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_id</span><span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_is_docker_running</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if Docker is running locally by calling `docker info`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if Docker is running, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
                <span class="p">[</span><span class="s2">&quot;docker&quot;</span><span class="p">,</span> <span class="s2">&quot;info&quot;</span><span class="p">],</span>
                <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span>
                <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span>
                <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">echo</span><span class="p">(</span><span class="s2">&quot;✅ Docker is running locally.&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
            <span class="n">echo</span><span class="p">(</span>
                <span class="s2">&quot;❌ Docker is NOT running locally. Please start Docker to use Ersilia models.&quot;</span><span class="p">,</span>
                <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">serve</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>



<div class="viewcode-block" id="Catalog">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Catalog">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Catalog</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class enables users to browse and retrieve information about all models</span>
<span class="sd">    available in the Ersilia Hub. It is designed for general catalog-level operations</span>
<span class="sd">    and is not tied to any specific model instance. Use this class when you want to</span>
<span class="sd">    explore the hub, list available models,</span>

<span class="sd">    Typical usage includes listing the model catalog via the `catalog()` method,</span>
<span class="sd">    which mirrors the CLI behavior but returns a structured DataFrame for programmatic use.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verbose_mode</span> <span class="o">=</span> <span class="n">verbose</span>

<div class="viewcode-block" id="Catalog.catalog">
<a class="viewcode-back" href="../../../source/autodoc/ersilia.api.html#ersilia.api.create_api.Catalog.catalog">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">catalog</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">hub</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">file_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">more</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">card</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">as_json</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        API-compatible version of the catalog command with echo-based output.</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        hub : bool, default=False</span>
<span class="sd">            If True, fetch the catalog from the hub.</span>
<span class="sd">            If False, fetch the catalog from the local directory.</span>
<span class="sd">        file_name : str or None, default=None</span>
<span class="sd">            If specified, write the catalog to this file.</span>
<span class="sd">        more : bool, default=False</span>
<span class="sd">            If True, show more detail in catalog.</span>
<span class="sd">        card : bool, default=False</span>
<span class="sd">            If True, display the model card for a given model.</span>
<span class="sd">        model : str or None, default=None</span>
<span class="sd">            The model ID for which to display metadata.</span>
<span class="sd">        as_json : bool, default=False</span>
<span class="sd">            If True, return JSON output instead of a formatted table.</span>
<span class="sd">        verbose : bool, default=False</span>
<span class="sd">            If True, enable verbose logging.</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pandas.DataFrame or dict or None</span>
<span class="sd">            A DataFrame containing the last two columns of the model catalog.</span>
<span class="sd">            Also prints the full catalog as a table or JSON to the terminal, depending on `as_json`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span><span class="p">(</span>
            <span class="n">hub</span><span class="o">=</span><span class="n">hub</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="n">file_name</span><span class="p">,</span>
            <span class="n">more</span><span class="o">=</span><span class="n">more</span><span class="p">,</span>
            <span class="n">card</span><span class="o">=</span><span class="n">card</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">as_json</span><span class="o">=</span><span class="n">as_json</span><span class="p">,</span>
            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
        <span class="p">)</span></div>
</div>

</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Ersilia Open Source Initiative
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>